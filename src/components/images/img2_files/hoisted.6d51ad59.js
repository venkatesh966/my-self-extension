import{a as r,d as f,l as k}from"./index.cf375d00.js";import{d as v,c as C}from"./index.76973b73.js";import{h as g}from"./index.b93551d5.js";import{p as T,e as d}from"./index.df4f026c.js";import{d as q}from"./store.6016dbf7.js";import{o as B}from"./share-url.d340195e.js";import"./hoisted.61dff180.js";import"./video.9d8ea1a2.js";import"./index.c9a16790.js";import"./lazy.ec63ec52.js";import"./hoisted.7ab70744.js";import"./signals.module.e26a8f2a.js";import"./preact.module.284f119c.js";import"./hooks.module.15c9a964.js";import"./preload-helper.e8d31950.js";function S(){import.meta.url,import("data:text/javascript,").catch(()=>1);async function*t(){}S.g=t}const m=(t,e)=>{if(+__PN_DATA__.uid<=0)return e&&e();t()};let u=null;const p=()=>{if(u)return u;const t=document.querySelector("[data-closest]");return u=Object.assign({},t==null?void 0:t.dataset),u};r("click","[data-downld-name]",function(){const t=this.dataset.downldName,e=this.dataset.downldUrl,n=this.dataset.downldSuffix,i=this.dataset.hueid,o=this.dataset.hasBuy=="1",a=p();if(!t)return;const s=document.querySelector("[data-premium-txt]");m(()=>{switch(i&&d(i),t){case"png":case"rar":case"ppt":case"twibbon":const c=a.fee=="1"&&t==="png";o&&e?window.open(e,"_blank"):q({type:a.type||"1",btnType:t,rarName:n||"PSD",goPremiumTxt:(s==null?void 0:s.dataset.premiumTxt)||"Go Premium",href:e,downUrl:e,fee:c,licenseType:a.licenseType||0},!1);break;case"edit":if(e){let l=e;a.dgrinfo&&confirm(a.dgrinfo)&&(l=l.replace(/\/canvas\/?\?/,"/canvas/designer.html?")),window.open(l,"_blank")}break;case"mobile":const h=document.querySelector("._o2b");v(h,l=>l-40);break;case"freevideo":const w=document.getElementById("_ijc");w&&w.currentSrc&&A(w.currentSrc,"down_ifr");break;case"remove-bg":break;default:e&&setTimeout(()=>{window.open(e,"_blank")},100);break}},()=>{d("down-btnnologin-"+t)})});function D(t){m(()=>{const e=t.target,n=document.getElementById("_hjc"),i=document.getElementById("_jjc");n&&i&&(n.hidden=e&&e.value==="down",i.hidden=!n.hidden)})}document.querySelectorAll('input[type="radio"][name="size-selection"]').forEach(t=>{t.addEventListener("change",D)});function A(t,e){const n=document.getElementById(e)||document.createElement("iframe");n.id=e,n.src=t,document.body.appendChild(n)}if(__PN_DATA__.no_bot=="1"){const{id:t,type:e,detect_status:n}=p();g.get("/api/statistics/view",{id:t,type:e,t:n}),e=="1"?g.get("/api/statistics/detail-out-view",{id:t}):e=="5"&&T("font_detail",1,"come")}r("click","[data-share-btn]",function(){const t=I();t.name=this.dataset.shareBtn||"",B(t)});function I(){const t={title:"",media:"",word:"",name:""},e=document.querySelector("[data-share-media]");if(e){const{shareTitle:n,shareMedia:i,shareWord:o}=e.dataset;t.title=n||"",t.media=i||"",t.word=o||""}return t}const N="._z_b";r("click",N,function(){setTimeout(()=>{d("der-followmain")}),m(()=>{const t=this.dataset.follow,e=this.textContent,n=this.dataset.txt;this.disabled=!0,g.post("/api/async/designer-follow",{id:t}).then(i=>{i.status===200&&(this.textContent=n,this.dataset.txt=e)}).finally(()=>{this.disabled=!1})})});const E="._t2b a";r("click","[data-prf-type]",function(){m(()=>{const t=this.dataset.prfType,n=this.dataset.limitedTime=="1"?!1:this.dataset.hasBuy=="1",i=t==="enterprise",o=i?"team":"",a=p(),{vip_type:s,enterprise_status:c}=window.__PN_DATA__,h={enterprise:c!="1",personal:+s<=0};!n&&h[t]?(f(document,"dialog:toggle",{name:"prf-license-"+t,show:!0}),d("prfview-btn"+o)):(this.disabled=!0,f(document,"down:prf",{data:{action:"detail",id:a.id,type:a.type},isTeam:i,hasBuy:n,resolve:()=>{this.disabled=!1},reject:()=>{this.disabled=!1}}),d("prfdown-btn"+o))})});r("click","[data-edit-url]",function(){m(()=>{const t=this.dataset.editUrl;t&&window.open(t)})});r("click",E,function(t){t.preventDefault(),d("relatekeyword-report"),this.href&&setTimeout(()=>{window.open(this.href,"_blank")},100)});const j="._w8b ._i_b";r("click",j,function(){const t=this.dataset.id;t&&d("url-similartype-".concat(t))});r("click","._b3b>span",function(){f(this.parentElement.querySelector('[data-huejs="der-linkmain"]'),"click")});const H=()=>{var t;return(t=document.querySelector("[data-ai-prompt]"))==null?void 0:t.textContent};r("click",".copyprompt-btn",function(){const t=H();if(t){const e=this.textContent||"",n=this.dataset.copied||e;C(t).then(()=>{this.textContent=n,setTimeout(()=>{this.textContent=e},2600)})}});r("click",'button[data-ai-btn],[data-downld-name="remove-bg"]',function(t){var i;const e=p(),n=this.dataset.aiBtn||this.dataset.downldName;if(n==="remove-bg"){const o="/remove-background";L("rbg_id_type","".concat(e.id,"_").concat(e.type)),window.open(o,"_blank")}else if(n=="png"){const o=(i=this.firstElementChild)==null?void 0:i.textContent;o&&(localStorage.setItem("_useprompt_text",o.trim()),setTimeout(()=>{window.location.href="/ai-tools/ai-png-generator"}))}});function L(t,e,n){const i=new Date,o=n||3;i.setHours(i.getHours()+o),document.cookie=["".concat(t,"=").concat(encodeURIComponent(e)),"expires=".concat(i.toUTCString()),"path=/","domain=.pngtree.com"].join(";")}r("click","[data-tab-name]",function(){const t=this.dataset.tabName;document.querySelectorAll("[data-tab-name]").forEach(e=>{e.classList[e.dataset.tabName===t?"add":"remove"]("actived-tab")}),document.querySelectorAll("[data-tab-c]").forEach(e=>{e.classList[e.dataset.tabC===t?"add":"remove"]("_wzb")})});const P="._pdc",$="._qdc",U="._rdc",z=["_h","_w8"];W();function W(){if(window.innerWidth<1024)return;const t=document.querySelectorAll(P);for(const e of t){const n=e.querySelector($),i=e.querySelector(U);if(!n||!i)continue;const o=n.children,a=o.length,s=o[a-1];if(a<=1||s&&s.offsetTop<=0)continue;const c=O({btnEl:i,boxEl:n,btns:o,len:a});F(c,n,i,e)}}function F(t,e,n,i){const o=i.offsetHeight,a=()=>{t.show=!1,n.textContent="+"+t.count,e.insertBefore(n,t.el),n.style.removeProperty("width"),i.style.cssText+="height:".concat(o,"px;")};k(n,"click",()=>{if(t.show)return a();t.show=!0,e.appendChild(n),n.textContent=n.dataset.less,n.style.width="auto",i.style.cssText+="height:".concat(e.offsetHeight,"px;")}),a(),t.count>0&&requestAnimationFrame(()=>{n.classList.remove(...z)})}function O({btns:t,len:e,btnEl:n,boxEl:i}){const o={el:null,i:0,count:0,show:!1};for(let s=0;s<e;s++){const c=t[s];if(c!==n){if(c.offsetTop>0)break;o.i++,o.el=c}}o.count=e-o.i;const a=t[e-2];if(o.count>1){n.textContent="+"+o.count,i.insertBefore(n,o.el);let s=n.nextElementSibling;for(;s&&s.offsetTop<=0;)s=s.nextElementSibling,i.insertBefore(n,s),o.el=s,o.i++,o.count--}else o.el===a&&(o.el=null);return o}const x="._bac",M="._ndc",y=()=>{f(document,"dialog:toggle",{name:"PreviewImage",show:!0})},b=t=>{var e;(e=document.querySelector(M))==null||e.classList[t?"add":"remove"]("_ck")},_=t=>{t.preventDefault()};r("click",x,function(t){_(t),setTimeout(()=>{d("detail-preview-image")},100);const e=document.getElementById("PreviewImage");if(e){if(e.querySelector("img"))return y()}else return;const n=this.querySelector("a"),i=this.querySelector("img");if(!n||!i)return;const o=n.href||i.currentSrc||i.src;if(!o)return;y();const a=n.offsetHeight>n.parentElement.offsetHeight,s=document.createElement("img"),c=a?e:s;c.style.maxWidth=window.innerWidth-40+"px",c.style.maxHeight=window.innerHeight-120+"px",s.className=e.dataset.imgClass||"",s.style.minWidth=a?"640px":"auto",s.alt="",s.oncontextmenu=_,s.onload=s.onabort=s.onerror=()=>{requestAnimationFrame(()=>{b(!0)})},s.src=o,requestAnimationFrame(()=>{b(),e.appendChild(s)})});r("contextmenu",x,_);export{S as __vite_legacy_guard};
